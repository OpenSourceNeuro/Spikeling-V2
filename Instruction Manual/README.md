<p align="left"><img width="270" height="170" src="https://github.com/OpenSourceNeuro/Spikeling-V2/blob/main/Images/SpikyLogo.png">

<h1 align="center"> Instruction Manual</h1></p>

<h2 align="left"> Overview</h1></p>

<p style='text-align: justify;'>

This document contains detailed instructions to connect, install and use Spikeling v2.2

The hardware itself is controlled by a <a href="https://www.espressif.com/en/products/devkits/esp32-devkitc">ESP-32 development board</a> (ESP-32 WROVER-E). It runs on a C++ code which can be updated through the <a href="https://www.arduino.cc">Arduino IDE</a>. The <a href="https://github.com/OpenSourceNeuro/Spikeling-V2/tree/main/Arduino%20Code">Arduino Code session</a> in this repository details how to modify the Spikeling code.


<strong>In order to communicate with the ESP-32 micro-controller, users must first install the latest SiLabs <a href="https://www.silabs.com/developers/usb-to-uart-bridge-vcp-drivers">CP210x driver</a></strong>

The software itself consists on a Graphical User Interface (GUI) built on python using the pyqt6/pyside6 library packages:
  - Users can run the <a href="https://github.com/OpenSourceNeuro/Spikeling-V2/tree/main/GUI/PyQt">python code</a> directly by executing the <strong>Main.py</strong> file.
  - A Windows executable file is also available and can be found <a href="https://github.com/OpenSourceNeuro/Spikeling-V2/tree/main/GUI/Windows">here</a>
  - A Linux version is available <a href="">here</a>
  - And a Mac version <a href="">here</a>

  </p>

  ***

<h2 align="left">Spikeling GUI</h2></p>

<p style='text-align: justify;'>

Once the CP210x has been installed, users can launch the Spikeling software.

On the home page, menus can be found on the left tab

</p>

<br>

<img align="left"  src="https://github.com/OpenSourceNeuro/Spikeling-V2/blob/main/Images/Spikeling_Menu.png" width="176" height="54">
<h4 align="center"> Spikeling Menu</h4>

<p style='text-align: justify;'>

In the Spikeling tab, users need to select <strong> Neuron Interface </strong> in order to display the main oscilloscope screen on which all traces will be displayed

To connect the Spikeling device with the GUI, <strong>select a COM port</strong>. If several are available, the correct COM port should make the device's LEDs light up in sequence. Then click <strong> Connected</strong>

From now on, the oscilloscope should display three traces. by default, the Spikeling Vm, the total input current it is receiving, and the stimulus output. Traces can be selected or unselected from the oscilloscope, to only the ones of interest.

The first three traces concern the Spikeling device to which the computer is connected. the next two concern a second Spikeling unit connected to the main one through the <strong> Synapse in 1</strong> plug. The last two concern a third unit connected to the <strong> Synapse in 2</strong> plug.

On the top right corner, two buttons can be found <strong> LED On</strong> and <strong> Buzzer On</strong>, which can respectively silence the device LED and buzzer.

Neuron modes can be manually selected on the board by pushing the button on the bottom right corner of the spikeling device. Or it could be directly selected from the software by selecting one of the twelve default modes. Note that for this neuron mode change to be efficient, one need to click on the <strong> Apply</strong> button.

Furthermore, unique neuronal modes can be generated by the users on the <strong>Neuron Generator</strong> tab (see below). Such neuron modes can be selected by clicking in the <strong>Browse</strong> button, then activating it by clicking on <strong> Apply</strong>

On the right hand side of the screen is the parameter tab:

  - Neuron Parameters:

  Here users can manipulate most variables related to the neuron behaviour. These are a redundancy from the knobs on the spikeling device. When toggle buttons are enabled, the software take over the know and a digital value is displayed, allowing users an accurate and reliable settings of the spikeling neuron.

      - Injected Current:

          This parameter correspond to the amount of current (0 by default) injected into the neuron. It stimulates how an electrophysiology rig would perform a patch clamp experiment by holding the neuron current. Across the spikeling project, current are technically arbitrary units but can be explained to students as corresponding to mA.

          On the board, this corresponds to the bottom left knob

      - Noise

          No recording is noise free, unfortunately. This specific variable adds a random noise at different intensities in order to mimic noise from the environment, from the recording station, even the thermal noise from the neuronal tissue itself. This functions aims to educate students to appreciate how background noise affects recording and hides real spiking events. In advanced classes, this functions can be used to test the efficiency of a spike sorting algorithm.

          On the board, this corresponds to the bottom right knob

      - Synaptic Gain:



</p>
